<?xml version="1.0"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=152368
  -->

<configuration>
  <configSections>
    <section name="unity"  type="Microsoft.Practices.Unity.Configuration.UnityConfigurationSection, Microsoft.Practices.Unity.Configuration"/>
  </configSections>

  <unity xmlns="http://schemas.microsoft.com/practices/2010/unity">

    <!--<alias alias="AuthorizationService" type="Vaiona.Web.Security.Az.IAuthorizationService, Vaiona.Web.Security" />-->
    <!--<alias alias="RuleBasedAuthorizationImpl" type="Vaiona.Web.Security.Az.RuleBasedAuthorization, Vaiona.Web.Security" />-->

    <alias alias="PersistenceManager" type="Vaiona.Persistence.Api.IPersistenceManager, Vaiona.Persistence.Api" />
    <alias alias="NHPersistenceManager" type="Vaiona.PersistenceProviders.NH.NHibernatePersistenceManager, Vaiona.PersistenceProviders.NH" />


    <container name="DefaultContainer">

      <!-- lifetime: singleton, transient, hierarchical, external, perthread-->
      
      <!--<register type="AuthorizationService" mapTo="RuleBasedAuthorizationImpl">
        <lifetime type="singleton" />
      </register>-->

      <register type="PersistenceManager" mapTo="NHPersistenceManager">
        <lifetime type="singleton" />       
      </register>

    </container>

  </unity>

</configuration>
